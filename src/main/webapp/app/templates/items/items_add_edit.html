<div ng-controller="itemsAddEditCtrl as vm">

    <form class="form-inline">
        <input class="form-control" type="text" placeholder="Name" ng-model = "vm.items.name" name="name">

        <select placeholder="Name" class="form-control" id="sel1" name="sel1" ng-model="vm.items.group">
            <option ng-repeat="row in vm.allGroups" value="{{row}}">{{row.name}}</option>
        </select>

        <select class="form-control" ng-model="vm.items.thisMeasure" ng-change="vm.addMeasure(vm.items.thisMeasure)">
            <option ng-repeat="row in vm.allMeasures" value="{{row}}">{{row.name}}</option>
        </select>

        <button ng-click="vm.set({})" class="btn btn-success btn-lg">Save</button>

    </form>
    <pre>{{vm.items | json}}</pre>
    <img src="app/img/712.GIF" alt="preloader" class="img-responsive center-block"  ng-if="vm.isLoading"/>
    <br/>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Edit</th>
            <th>Del</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="row in vm.allItems">
            <td>{{row.id}}</td>
            <td ng-if="!row.edit">{{row.name}}</td>
            <td ng-if="row.edit"><input class="form-control" type="text" placeholder="Name" ng-model = "row.name" name="name"></td>
            <td ng-click="row.edit=1" ng-if="!row.edit"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></td>
            <td ng-click="vm.update(row)" ng-if="row.edit"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></td>
            <td ng-click="vm.delete({id: row.id})"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></td>
        </tr>
        </tbody>
    </table>


    <!--<pre>{{ vm.items | json}}</pre>-->
</div>